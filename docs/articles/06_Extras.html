<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extras • rBasics</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Extras">
<meta property="og:description" content="rBasics">
<meta property="og:image" content="https://github.com/j3ypi/rBasics/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-142129809-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-142129809-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rBasics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/01_Setup.html">Setup</a>
    </li>
    <li>
      <a href="../articles/02_Datenvorbereitung.html">Datenvorbereitung</a>
    </li>
    <li>
      <a href="../articles/03_Deskriptive_Statistik.html">Deskriptive Statistik</a>
    </li>
    <li>
      <a href="../articles/04_Visualisierungen.html">Visualisierungen</a>
    </li>
    <li>
      <a href="../articles/05_Inferenzstatistik.html">Inferenzstatistik</a>
    </li>
    <li>
      <a href="../articles/06_Extras.html">Extras</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    PDFs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../pdfs/01_Setup.pdf">Setup</a>
    </li>
    <li>
      <a href="../pdfs/02_Datenvorbereitung.pdf">Datenvorbereitung</a>
    </li>
    <li>
      <a href="../pdfs/03_Deskriptive_Statistik.pdf">Deskriptive Statistik</a>
    </li>
    <li>
      <a href="../pdfs/04_Visualisierungen.pdf">Visualisierungen</a>
    </li>
    <li>
      <a href="../pdfs/05_Inferenzstatistik.pdf">Inferenzstatistik</a>
    </li>
    <li>
      <a href="../pdfs/06_Extras.pdf">Extras</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Dokumentation</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/j3ypi/rBasics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Extras</h1>
            <h3 data-toc-skip class="subtitle">R für empirische
Wissenschaften v1.0.2</h3>
                        <h4 data-toc-skip class="author">Jan Philipp
Nolte</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/j3ypi/rBasics/blob/HEAD/vignettes/06_Extras.Rmd"><code>vignettes/06_Extras.Rmd</code></a></small>
      <div class="hidden name"><code>06_Extras.Rmd</code></div>

    </div>

    
    
<div style="page-break-after: always;"></div>
<div class="info">
Die neue Version befindet sich als Buch unter
<a href="https://r-empirische-wissenschaften.de" class="external-link">
https://r-empirische-wissenschaften.de </a>
</div>
<div class="section level2">
<h2 id="einführung">Einführung<a class="anchor" aria-label="anchor" href="#einf%C3%BChrung"></a>
</h2>
<p>In den letzten fünf Kapiteln hast Du bereits alles dringend Nötige
zum Verarbeiten von Daten kennengelernt. Allerdings wurden einige
Konzepte bisher aus didaktischen Gründen ohne Erklärung verwendet. Hier
werden diese Konzepte sowie andere für das Verständnis von R wichtigen
Dinge genauer betrachtet. Außerdem werden mit <a href="#funktionales-programmieren">funktionalem Programmieren</a>
forgeschrittene Konzepte vorgestellt. Zum Schluss wird noch eine
Funktion erklärt, die eine Ergenismatrix zu einer binären Antwortmatrix
formatiert. Also wenn man zum Beispiel in einem Online Fragebogen
Aufgaben abfragt, die eine richtige Lösung haben, sind diese im rohen
Datensatz in einem unbrauchbaren Format. Wenn in Aufgabe 1 die Zahl 42
herauskommt und 3 Personen den Fragebogen beantwortet haben, mit 42, 34
und 5, enthält der Rohdatensatz keinerlei Information darüber, dass nur
die erste Person richtig geantwortet hat. Die Funktion zur
Transformation würde daraus 1, 0, 0 machen. Ein Beispiel wird später
gegeben.</p>
</div>
<div class="section level2">
<h2 id="verschiedene-datenstrukturen">Verschiedene Datenstrukturen<a class="anchor" aria-label="anchor" href="#verschiedene-datenstrukturen"></a>
</h2>
<p>Wie bei den bereits kennengelernten Datentypen gibt es auch
verschiedene Strukturen, die jeweils andere Eigenschaften haben. In den
vorherigen Kapiteln ist oft das Wort tibble gefallen. Wenn Du bereits
die eine oder andere Erfahrung mit R gemacht hast, kennst Du
wahrscheinlich eher data.frames. Was diese Datenstruktur ausmacht und
wie man verschiedene Datenstrukturen innerhalb von R direkt erstellen
kann (ohne Einlesen eines bereits bestehenden Datensatzes), wird im
Folgenden erklärt.</p>
<div class="section level3">
<h3 id="tibble-und-data-frame">tibble und data.frame<a class="anchor" aria-label="anchor" href="#tibble-und-data-frame"></a>
</h3>
<p>Die vielleicht nützlichste Datenstruktur für den Wissenschaftler ist
der tibble. Warum? Weil, obwohl innerhalb einer Spalte der selbe
Datentyp benutzt werden muss, verschiedene Datentypen in verschiedenen
Spalten sein dürfen. Man sollte nach Möglichkeit immer tibbles anstelle
der veralteten data.frames benutzen, allerdings gibt es einige wenige
alte Funktionen, die mit tibbles nicht kompatibel sind. Wie man
Datenstrukturen umformt, sehen wir später. Die genauen Unterschiede und
Vorteile von tibbles können <a href="https://blog.rstudio.com/2016/03/24/tibble-1-0-0/" class="external-link">hier</a>
nachgelesen werden.</p>
<p>Einen tibble kann man mit der gleichnamigen Funktion (nach laden des
<code>tidyverse</code>) erstellen.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>  b <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">##       a     b</span></span>
<span><span class="co">##   <span style="color: #949494;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>     1     4</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span><span>     2     5</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span><span>     3     6</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="vektor">Vektor<a class="anchor" aria-label="anchor" href="#vektor"></a>
</h3>
<p>Ein Vektor ist eine eindimensionale Datenstruktur, die nur einen
Datentypen enthalten darf. Also entweder Numeric, Character oder
Logical. Jede Spalte in einem Datensatz ist nichts anderes als ein
Vektor. Vektoren können auf verschiedene Art und Weise erstellt
werden.</p>
<p>Einen leeren Vektor mit einer bestimmten Anzahl an Elementen kann man
mit <code><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector()</a></code> erstellen.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span><span class="st">"numeric"</span>, <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0 0 0 0</span></span></code></pre>
<p>Man kann mehrere Werte mit <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> (combine)
kombinieren.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 3 4</span></span></code></pre>
<p>Bereits kennengelernt haben wir den Doppelpunkt. Werte von 1 bis 4
erhalten wir also durch</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 3 4</span></span></code></pre>
<p>Auch mit <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code> erreichen wir das selbe Ergebnis. Vorteil
hierbei ist der, dass man die Abstände zwischen den Zahlen verändern
kann.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">4</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 3 4</span></span></code></pre>
<p>Außerdem gibt es nützliche <code>seq</code>-Funktionen für häufige
Anwengungsfälle, wie <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len()</a></code> für eben genau das vorherige
Beispiel.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 3 4</span></span></code></pre>
<p>Und <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along()</a></code> für eine Sequenz von 1 bis zur Länge des
Vektors, was häufig beim Loopen hilfreich ist.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 3</span></span></code></pre>
<div class="section level4">
<h4 id="eckige-klammern">Eckige Klammern<a class="anchor" aria-label="anchor" href="#eckige-klammern"></a>
</h4>
<p>Wenn man auf Elemente innerhalb eines Vektor zugreifen möchte,
erzielt man dies mit eckigen Klammern. Das dritte Element des Vektors
<code>vec</code></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p>erhält man mit</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vec</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 3</span></span></code></pre>
<p>Eckigen Klammern können auch bei tibbles verwendet werden. Wählen wir
zuerst erneut die Personenspalte aus.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tipp_wm</span><span class="op">[</span> ,<span class="st">"Person"</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 384 × 1</span></span></span>
<span><span class="co">##    Person      </span></span>
<span><span class="co">##    <span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>       </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 374 more rows</span></span></span></code></pre>
<p>Was ändert sich im Vegleich zu Vektoren? Innerhalb der eckigen
Klammer befindet sich nun ein Komma. Links vom Komma kann man 1 bis alle
<strong>Zeilen</strong> auswählen, rechts vom Komma die gewünschten
<strong>Spalten</strong>. Wenn man es frei lässt, werden alle
ausgewählt. Man kann alternativ auch numerisch auswählen.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tipp_wm</span><span class="op">[</span> ,<span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 384 × 1</span></span></span>
<span><span class="co">##    Person      </span></span>
<span><span class="co">##    <span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>       </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span><span> Thomas_Bayes</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 374 more rows</span></span></span></code></pre>
<p>Aber man könnte genauso gut mehrere Spalten auswählen. Spalten 1 bis
3 beispielweise mit</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tipp_wm</span><span class="op">[</span> ,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 384 × 3</span></span></span>
<span><span class="co">##    Spieltag Person       Tipp </span></span>
<span><span class="co">##       <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>        </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span><span>        1 Thomas_Bayes 2:0  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span><span>        2 Thomas_Bayes 1:3  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span><span>        2 Thomas_Bayes 0:0  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span><span>        2 Thomas_Bayes 1:2  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span><span>        3 Thomas_Bayes 2:1  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span><span>        3 Thomas_Bayes 3:0  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span><span>        3 Thomas_Bayes 0:2  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span><span>        3 Thomas_Bayes 4:0  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span><span>        4 Thomas_Bayes 2:1  </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span><span>        4 Thomas_Bayes 3:0  </span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 374 more rows</span></span></span></code></pre>
<p>oder Spalten 2 und 4 mit</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tipp_wm</span><span class="op">[</span> ,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 384 × 2</span></span></span>
<span><span class="co">##    Person       Ergebnis</span></span>
<span><span class="co">##    <span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>        </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>   </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span><span> Thomas_Bayes 5:0     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span><span> Thomas_Bayes 0:1     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span><span> Thomas_Bayes 0:1     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span><span> Thomas_Bayes 3:3     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span><span> Thomas_Bayes 2:1     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span><span> Thomas_Bayes 1:1     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span><span> Thomas_Bayes 0:1     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span><span> Thomas_Bayes 2:0     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span><span> Thomas_Bayes 0:1     </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span><span> Thomas_Bayes 0:1     </span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 374 more rows</span></span></span></code></pre>
<p>Bei großen Datensätzen kann man die gewünschte Spaltennummer
beispielsweise mit <code><a href="https://stringr.tidyverse.org/reference/str_subset.html" class="external-link">str_which()</a></code> herausfinden.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_subset.html" class="external-link">str_which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">tipp_wm</span><span class="op">)</span>, <span class="st">"Person"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 2</span></span></code></pre>
<p>Eine gewünschte Anzahl an Zeilen kann man nach dem gleichen Schema
wie mit den Spalten auswählen. Möchte man zum Beispiel die ersten 20
Zeilen der Spalten 1 und 5 ausgegeben haben:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tipp_wm</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20 × 2</span></span></span>
<span><span class="co">##    Spieltag Tipp_Richtung</span></span>
<span><span class="co">##       <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>        </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span><span>        1 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span><span>        2 N            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span><span>        2 U            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span><span>        2 N            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span><span>        3 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span><span>        3 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span><span>        3 N            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span><span>        3 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span><span>        4 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span><span>        4 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span><span>        4 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span><span>        5 U            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span><span>        5 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span><span>        5 N            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span><span>        6 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span><span>        6 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span><span>        6 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span><span>        7 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span><span>        7 S            </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">20</span><span>        7 N</span></span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="matrix">Matrix<a class="anchor" aria-label="anchor" href="#matrix"></a>
</h3>
<p>Zwei zumsammengebundene Vektoren ergeben nicht zwingend einen tibble.
Wenn die beiden Vektoren den selben Datentyp haben, kann man auch eine
Matrix daraus machen. In der wissenschaftlichen Praxis wird das
allerdings nur selten benötigt. Wir haben das lediglich bei der MANOVA
verwendet. Wir schauen uns trotzdem drei verschiedene Möglichkeiten an,
eine Matrix zu erstellen. Der Funktion <code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix()</a></code> übergibt
man als erstes Argument alle gewünschten Werte. Mit <code>ncol</code>
respektive <code>nrow</code> kann man dann die Anzahl der Spalten
beziehungsweise Zeilen festlegen.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      [,1] [,2]</span></span>
<span><span class="co">## [1,]    1    5</span></span>
<span><span class="co">## [2,]    2    6</span></span>
<span><span class="co">## [3,]    3    7</span></span>
<span><span class="co">## [4,]    4    8</span></span></code></pre>
<p>Alternativ kann man auch zwei Vektoren mit <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind()</a></code>
(column bind) Spaltenweise aneinander hängen.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, </span>
<span>      <span class="fl">5</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      [,1] [,2]</span></span>
<span><span class="co">## [1,]    1    5</span></span>
<span><span class="co">## [2,]    2    6</span></span>
<span><span class="co">## [3,]    3    7</span></span>
<span><span class="co">## [4,]    4    8</span></span></code></pre>
<p>Nach dem gleichen Prinzip kann <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code> (row bind) für
zeilenweises Verbinden verwendet werden.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      [,1] [,2] [,3]</span></span>
<span><span class="co">## [1,] "a"  "b"  "c" </span></span>
<span><span class="co">## [2,] "d"  "e"  "f"</span></span></code></pre>
<p>Wie wir bereits beim Modellvergleich im Rahmen der hierarchischen
Regression beobachtet haben, können mit <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind()</a></code> und
<code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code> auch tibbles der gleichen Grösse aneinander gehängt
werden. Der Zugriff auf Zeilen und Spalten innerhalb der Matrix
funktioniert nur mit eckigen Klammern. Der Dollar-Operator funktioniert
hier nicht, weil eine Matrix keine Spaltennamen hat. Auf die Ausführung
von drei dimensionalen Matrizen – den Arrays – sei an dieser Stelle
verzichtet.</p>
</div>
<div class="section level3">
<h3 id="liste">Liste<a class="anchor" aria-label="anchor" href="#liste"></a>
</h3>
<p>Die allgemeinste Datenstruktur ist die Liste. In einer Liste kann man
alles verstauen – egal ob Vektoren, Matrizen oder tibbles.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">liste</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">vec</span>, <span class="va">matrix</span>, <span class="va">big_five</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## [1] 1 2 3 4</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">##      [,1] [,2]</span></span>
<span><span class="co">## [1,]    1    5</span></span>
<span><span class="co">## [2,]    2    6</span></span>
<span><span class="co">## [3,]    3    7</span></span>
<span><span class="co">## [4,]    4    8</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 200 × 8</span></span></span>
<span><span class="co">##    Alter Geschlecht Herkunft Extraversion Neurotizismus Vertra…¹ Gewis…² Offen…³</span></span>
<span><span class="co">##    <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>      </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>           </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>         </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span><span>    36 m          DE                3             1.9      3.4     3.3     3.6</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span><span>    30 f          US                3.1           3.4      3.1     2.7     3.8</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span><span>    23 m          US                3.4           2.4      3.6     3       3.2</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span><span>    54 m          US                3.3           4.2      3.6     3       2.9</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span><span>    24 f          US                3             2.8      3       3.3     3.5</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span><span>    14 f          US                2.8           3.5      3.2     3.3     3.6</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span><span>    32 m          HK                3.5           3.1      4.2     3       2.7</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span><span>    20 m          IN                3.5           2.6      3.5     2.7     2.7</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span><span>    29 f          IN                3             3.7      3.2     2.9     3.6</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span><span>    17 m          US                3.1           3.6      3       2.9     3.5</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 190 more rows, and abbreviated variable names ¹​Vertraeglichkeit,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ²​Gewissenhaftigkeit, ³​Offenheit</span></span></span></code></pre>
<p>Eine leere Liste der Länge 5 erstellt man mit</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span><span class="st">"list"</span>, <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[4]]</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[5]]</span></span>
<span><span class="co">## NULL</span></span></code></pre>
<p>Auf die Listenelemente erhält man mit doppelten eckigen Klammern
Zugriff. Das zweite Listenelement (hier die Matrix) erhält man mit</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">liste</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##      [,1] [,2]</span></span>
<span><span class="co">## [1,]    1    5</span></span>
<span><span class="co">## [2,]    2    6</span></span>
<span><span class="co">## [3,]    3    7</span></span>
<span><span class="co">## [4,]    4    8</span></span></code></pre>
<p>Weitergehend kann man direkt auf Elemente der Matrix im zweiten
Listenelement zugreifen. Möchte man beispielsweise den Wert in der
dritten Zeile und zweiten Spalte der Matrix ausgegeben haben, schreibt
man</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">liste</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 7</span></span></code></pre>
<p>Listen sind extrem wichtig beim funktionalen Programmieren und
nützlich beim Importieren mehrerer Datensätzen auf einmal.</p>
</div>
<div class="section level3">
<h3 id="umwandlungen-von-datenstrukturen">Umwandlungen von Datenstrukturen<a class="anchor" aria-label="anchor" href="#umwandlungen-von-datenstrukturen"></a>
</h3>
<p>Datenstrukturen können grundsätzlich nur ineinander umgewandelt
werden, wenn sämtliche notwendigen Eigenschaften erfüllt sind. Ein
tibble, welcher in 2 Spalten verschiedene Datentypen beinhaltet, kann
zum Beispiel <strong>nicht</strong> zu einer Matrix konvertiert werden.
Beziehungsweise geht das schon, allerdings werden dann alle Werte zu
einem Datentyp konvertiert.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/deprecated.html" class="external-link">as.tibble</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="funktionales-programmieren">Funktionales Programmieren<a class="anchor" aria-label="anchor" href="#funktionales-programmieren"></a>
</h2>
<p>Die Möglichkeiten des funktionalen Programmierens werden nur
exemplarisch angeschnitten, um eine Idee von den fortgeschrittenen
Konzepten zu erhalten.</p>
<div class="section level3">
<h3 id="funktionen-erstellen">Funktionen erstellen<a class="anchor" aria-label="anchor" href="#funktionen-erstellen"></a>
</h3>
<p>Manchmal bietet es sich an, eigene Funktionen zu schreiben. Dabei
schreibt man das Argument, was der Funktion weitergegeben werden soll,
in die Klammern von <code>function()</code>. Erst einmal gespeichert,
kann man die Funktion beliebig oft anwenden. Sie verhält sich dabei
genau wie sämtliche anderen Funktionen in R, wie z.B.
<code>mean(x)</code>. Angenommen, man möchte eine Spalte logarithmieren,
die Nullen beinhaltet: Um sinnvolle Werte zu erhalten, sollte man die
gesamte Skala anheben – beispielsweise um 2. Unsere erste eigene
Funktion <code>log_add_2()</code> (willkürlich gewählter Name) nimmt
eine Zahl <code>x</code>, addiert sie mit 2 und logarithmiert diesen
Wert anschließend.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">log_add_2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Nun können wir die Funktion wie gewohnt anwenden.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">log_add_2</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.6931472</span></span></code></pre>
<div class="section level4">
<h4 id="non-standard-evaluation">Non-standard evaluation<a class="anchor" aria-label="anchor" href="#non-standard-evaluation"></a>
</h4>
<p>Funktionen aus dem <code>tidyverse</code> stellen dabei eine Ausnahme
dar. An dieser Stelle wird es leider sehr schnell komplex und kryptisch.
Es sei nur erwähnt, damit bei Versuchen mit <code>tidyverse</code>
Funktionen eigene Funktionen zu schreiben, kein Frust aufkommt. Haben
wir zum Beispiel die einfache Aufgabe, den Mittelwert und die
Standardabweichung einer Variablen in einem Datensatz zu berechnen,
müssen wir so genannte quosures (<code><a href="https://rlang.r-lib.org/reference/enquo.html" class="external-link">enquo()</a></code>) und doppelte Bang
(<code>!!</code>) Operatoren benutzen, um die Aufgabe in Form einer
Funktion zu automatisieren.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mean_var</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">variable</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">variable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rlang.r-lib.org/reference/enquo.html" class="external-link">enquo</a></span><span class="op">(</span><span class="va">variable</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>Mittelwert <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="va">variable</span><span class="op">)</span>,</span>
<span>              SD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="va">variable</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Dafür könnte man diese Funktion schön in einer Pipe verwenden.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">indonesisch</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">mean_var</span><span class="op">(</span><span class="va">Alter</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">##   Mittelwert    SD</span></span>
<span><span class="co">##        <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>       21.6  5.93</span></span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="mappen">Mappen<a class="anchor" aria-label="anchor" href="#mappen"></a>
</h3>
<p>Der Kern von funktionalem Programmieren ist Automatisierung. Erinnern
wir uns zurück an die Inferenzstatistik. Genauer gesagt an das Berechnen
der Informationskriterien der Modelle der hierarchischen Regression
mithilfe von <code><a href="https://generics.r-lib.org/reference/glance.html" class="external-link">glance()</a></code>. Wir haben dort 3 mal den Befehl
ausführen müssen. Für jedes der 3 Modelle einmal. Aber was, wenn wir 10
Prädiktoren sukzessive hinzufügen wollen würden? 10 mal Copy &amp;
Paste? Eine fehleranfällige und mühsame Vorgehensweise. Mit
<code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map()</a></code> aus dem <code>purrr</code> Package (enthalten im
<code>tidyverse</code>) kann man mit 3 Zeilen Code das selbe erreichen.
Zuerst speichern wir dafür die 3 Modelle in einer Liste.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modelle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">model1</span>, <span class="va">model2</span>, <span class="va">model3</span><span class="op">)</span></span></code></pre></div>
<p>Nun greifen wir in gewohnter <code>tidyverse</code> Manier auf die
Liste zu. Die Funktion <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map()</a></code> wendet nun auf jedes
Listenelement die Funktion <code><a href="https://generics.r-lib.org/reference/glance.html" class="external-link">glance()</a></code> an. Nicht vergessen
<code>broom</code> vorher zu laden.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modelle</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">glance</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 12</span></span></span>
<span><span class="co">##   r.squared adj.r.squared sigma stati…¹ p.value    df logLik   AIC   BIC devia…²</span></span>
<span><span class="co">##       <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>         </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>   0.004</span><span style="text-decoration: underline;">86</span><span>     -</span><span style="color: #BB0000;">0.000</span><span style="color: #BB0000;text-decoration: underline;">164</span><span> 0.347   0.967   0.327     1  -</span><span style="color: #BB0000;">70.9</span><span>  148.  158.    23.8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 2 more variables: df.residual &lt;int&gt;, nobs &lt;int&gt;, and abbreviated</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   variable names ¹​statistic, ²​deviance</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 12</span></span></span>
<span><span class="co">##   r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵</span></span>
<span><span class="co">##     <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>  0.016</span><span style="text-decoration: underline;">3</span><span> 0.006</span><span style="text-decoration: underline;">30</span><span> 0.345    1.63   0.198     2  -</span><span style="color: #BB0000;">69.7</span><span>  147.  161.    23.5     197</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 1 more variable: nobs &lt;int&gt;, and abbreviated variable names</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 12</span></span></span>
<span><span class="co">##   r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵</span></span>
<span><span class="co">##     <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>  0.036</span><span style="text-decoration: underline;">4</span><span>  0.021</span><span style="text-decoration: underline;">6</span><span> 0.343    2.47  0.063</span><span style="text-decoration: underline;">4</span><span>     3  -</span><span style="color: #BB0000;">67.7</span><span>  145.  162.    23.0     196</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 1 more variable: nobs &lt;int&gt;, and abbreviated variable names</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual</span></span></span></code></pre>
<p>Wenn wir nun wie in unserer Copy &amp; Paste Lösung einen tibble und
keine Liste zurück haben wollen, ändern wir <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map()</a></code> einfach
zu <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_df()</a></code>.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modelle</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_df</a></span><span class="op">(</span><span class="va">glance</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 12</span></span></span>
<span><span class="co">##   r.squared adj.r.squared sigma stati…¹ p.value    df logLik   AIC   BIC devia…²</span></span>
<span><span class="co">##       <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>         </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>   0.004</span><span style="text-decoration: underline;">86</span><span>     -</span><span style="color: #BB0000;">0.000</span><span style="color: #BB0000;text-decoration: underline;">164</span><span> 0.347   0.967  0.327      1  -</span><span style="color: #BB0000;">70.9</span><span>  148.  158.    23.8</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span><span>   0.016</span><span style="text-decoration: underline;">3</span><span>       0.006</span><span style="text-decoration: underline;">30</span><span>  0.345   1.63   0.198      2  -</span><span style="color: #BB0000;">69.7</span><span>  147.  161.    23.5</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span><span>   0.036</span><span style="text-decoration: underline;">4</span><span>       0.021</span><span style="text-decoration: underline;">6</span><span>   0.343   2.47   0.063</span><span style="text-decoration: underline;">4</span><span>     3  -</span><span style="color: #BB0000;">67.7</span><span>  145.  162.    23.0</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 2 more variables: df.residual &lt;int&gt;, nobs &lt;int&gt;, and abbreviated</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   variable names ¹​statistic, ²​deviance</span></span></span></code></pre>
<p>Alternativ könnte man natürlich auch die apply-Familie aus
<code>base R</code> oder klassische for oder while Schleifen
verwenden.</p>
</div>
<div class="section level3">
<h3 id="nesten">Nesten<a class="anchor" aria-label="anchor" href="#nesten"></a>
</h3>
<p>Wirklich mächtig wird <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map()</a></code> allerdings erst in
Kombination mit <code><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest()</a></code>. Zu Beginn ist es durchaus abstrakt
und gewöhnungsbedürftig. Aber durch das Nesten kann man gruppenweise
mappen. Nehmen wir uns das Beispiel unseres <code>repeated</code>
Datensatzes. Es gibt 6 verschiedene Gruppen - A bis F. Was, wenn wir nun
innerhalb jeder dieser Gruppen einen F-Test zum Vergleich der Varianzen
von <code>iq</code> und <code>kreativitaet</code> machen möchten?
Normalerweise müsste man 6 mal filtern und anschließend die Funktion
F-Test aufrufen. Mit <code><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest()</a></code> benötigt man bloss 4 Zeilen
Code.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">repeated</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span><span class="op">-</span><span class="va">gruppe</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>f_tests <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/var.test.html" class="external-link">var.test</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">iq</span>, <span class="va">.</span><span class="op">$</span><span class="va">kreativitaet</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         ergebnisse <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">f_tests</span>, <span class="va">tidy</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">ergebnisse</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: All elements of `...` must be named.</span></span>
<span><span class="co">## Did you want `data = -gruppe`?</span></span></code></pre>
<pre><code><span><span class="co">## Multiple parameters; naming those columns num.df, den.df</span></span>
<span><span class="co">## Multiple parameters; naming those columns num.df, den.df</span></span>
<span><span class="co">## Multiple parameters; naming those columns num.df, den.df</span></span>
<span><span class="co">## Multiple parameters; naming those columns num.df, den.df</span></span>
<span><span class="co">## Multiple parameters; naming those columns num.df, den.df</span></span>
<span><span class="co">## Multiple parameters; naming those columns num.df, den.df</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 12</span></span></span>
<span><span class="co">##   gruppe data     f_tests estimate num.df den.df stati…¹ p.value conf.…² conf.…³</span></span>
<span><span class="co">##   <span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #949494;font-style: italic;">&lt;list&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;list&gt;</span><span>     </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #949494;font-style: italic;">&lt;int&gt;</span><span>  </span><span style="color: #949494;font-style: italic;">&lt;int&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span> A      &lt;tibble&gt; </span><span style="color: #949494;">&lt;htest&gt;</span><span>    0.438     14     14   0.438  0.135   0.147    1.31 </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span><span> B      &lt;tibble&gt; </span><span style="color: #949494;">&lt;htest&gt;</span><span>    0.278     14     14   0.278  0.022</span><span style="text-decoration: underline;">7</span><span>  0.093</span><span style="text-decoration: underline;">4</span><span>   0.829</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span><span> C      &lt;tibble&gt; </span><span style="color: #949494;">&lt;htest&gt;</span><span>    1.57      14     14   1.57   0.410   0.527    4.67 </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span><span> D      &lt;tibble&gt; </span><span style="color: #949494;">&lt;htest&gt;</span><span>    0.583     14     14   0.583  0.324   0.196    1.74 </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span><span> E      &lt;tibble&gt; </span><span style="color: #949494;">&lt;htest&gt;</span><span>    0.365     14     14   0.365  0.069</span><span style="text-decoration: underline;">2</span><span>  0.122    1.09 </span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span><span> F      &lt;tibble&gt; </span><span style="color: #949494;">&lt;htest&gt;</span><span>    1.40      14     14   1.40   0.535   0.471    4.18 </span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 2 more variables: method &lt;chr&gt;, alternative &lt;chr&gt;, and abbreviated</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   variable names ¹​statistic, ²​conf.low, ³​conf.high</span></span></span></code></pre>
<p>Auf die selbe Art könnte man auch mehrere hundert Regressionen ohne
auch nur eine zusätzliche Zeile Code rechnen.</p>
</div>
</div>
<div class="section level2">
<h2 id="transformation-einer-ergebnismatrix">Transformation einer Ergebnismatrix<a class="anchor" aria-label="anchor" href="#transformation-einer-ergebnismatrix"></a>
</h2>
<p>Angenommen wir machen eine Online-Umfrage mit einem kleinen Mathetest
bestehend aus 3 Aufgaben. Die richtigen Antworten sind 3, 2 und 4. Es
nehmen 4 Personen teil. Unser Datensatz <code>survey</code> würde in
etwas so aussehen</p>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">##      I1    I2    I3</span></span>
<span><span class="co">##   <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>     3     2     4</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span><span>     2     2     1</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span><span>     3     2     4</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span><span>     1     1     4</span></span></span></code></pre>
<p>Das bringt uns allerdings herzlich wenig zur Auswertung. Was wir
möchten, sind die Informationen pro Item und Person, ob die Aufgabe
korrekt gelöst wurde. Mit der Funktion <code><a href="../reference/transform_binary.html">transform_binary()</a></code>
des <code>rBasics</code> Packages, kann man anhand eines Antwortvektors,
der die richtigen Antworten enthält, die Matrix transformieren.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">antwortvec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/transform_binary.html">transform_binary</a></span><span class="op">(</span><span class="va">survey</span>, <span class="va">antwortvec</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `as.tibble()` was deprecated in tibble 2.0.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span><span> Please use `as_tibble()` instead.</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span><span> The signature and semantics have changed, see `?as_tibble`.</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span><span> The deprecated feature was likely used in the </span><span style="color: #0000BB;">rBasics</span><span> package.</span></span></span>
<span><span class="co">##   Please report the issue at <span style="color: #0000BB;font-style: italic;">&lt;8;;https://github.com/j3ypi/rBasics/issueshttps://github.com/j3ypi/rBasics/issues8;;&gt;</span><span>.</span></span></span></code></pre>
<pre><code><span><span class="co">## Warning: The `x` argument of `as_tibble.matrix()` must have unique column names if</span></span>
<span><span class="co">## `.name_repair` is omitted as of tibble 2.0.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span><span> Using compatibility `.name_repair`.</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span><span> The deprecated feature was likely used in the </span><span style="color: #0000BB;">tibble</span><span> package.</span></span></span>
<span><span class="co">##   Please report the issue at <span style="color: #0000BB;font-style: italic;">&lt;8;;https://github.com/tidyverse/tibble/issueshttps://github.com/tidyverse/tibble/issues8;;&gt;</span><span>.</span></span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">##      I1    I2    I3</span></span>
<span><span class="co">##   <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>     1     1     1</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span><span>     0     1     0</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span><span>     1     1     1</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span><span>     0     0     1</span></span></span></code></pre>
<p>Falls sowohl Zahlen als auch Characters als richtige Antworten in
Frage kommen, kann man der Funktion ebenfalls einen einzeiligen tibble
übergeben. Wenn wir also die Umfrage in der Form haben</p>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">##      I1 I2          I3</span></span>
<span><span class="co">##   <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>    </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>     3 Apfel        4</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span><span>     2 Banane       1</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span><span>     3 Erdbeere     4</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span><span>     1 Apfel        4</span></span></span></code></pre>
<p>und die richtigen Antworten 3, Apfel und 4 sind</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">antwortvec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="fl">3</span>, <span class="st">"Apfel"</span>, <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p>erhält man mit dem gleichen Befehl das Ergebnis.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/transform_binary.html">transform_binary</a></span><span class="op">(</span><span class="va">survey</span>, <span class="va">antwortvec</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">##      I1    I2    I3</span></span>
<span><span class="co">##   <span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span><span>     1     1     1</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span><span>     0     0     0</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span><span>     1     0     1</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span><span>     0     1     1</span></span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jan Philipp Nolte.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
