---
title: "Wiederholung"
output: 
  learnr::tutorial:
    tutorial_id: 1.0.2
    progressive: TRUE
    allow_skip: TRUE
    theme: "flatly"
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
loadNamespace("learnr")
loadNamespace("tidyverse")
loadNamespace("ggpubr")
# library(learnr)
# library(tidyverse)
# library(ggpubr)
knitr::opts_chunk$set(echo = FALSE)

data(indonesisch, package = "rBasics")
```

## Der Datensatz

Spätestens jetzt startet Deine Karriere als R Programmierer oder Programmiererin. Zunächst bekommst du die Möglichkeit Dir den Datensatz anzuschauen. Als erste Aufgabe gibt es verschiedene Fragen zu Datentypen. Ein besonderer Fokus wird dabei auf logische Aussagen gelegt, da diesen eine erhebliche Relevanz in der Programmierung zukommt und man erst einmal ein bisschen Zeit braucht um das Prinzip dahinter vollständig zu verstehen. 

```{r q11, exercise=TRUE, exercise.eval=TRUE}
indo
```

## Deskriptive Statistik

Du kannst die Fragen herausfinden, in dem du in diesem Code-Chunk die notwendigen Befehle eintippst.

```{r q12, exercise=TRUE}

```

```{r q12-hint-1}
dim(...)
```

```{r q12-hint-2}
indo$Alter
```

```{r q13}
quiz(
  question("Wie viele Beobachtungen sind enthalten?",
    answer("11"),
    answer("200", correct = TRUE),
    answer("10"),
    answer("159"), allow_retry = T
  ),
  question("Wie hoch ist das Durschnittsalter ungefähr?",
    answer("19"),
    answer("23"),
    answer("25"),
    answer("22", correct = TRUE), allow_retry = T
  ), caption = ""
)
```

## Datentypen

Nun Folgen ein paar Fragen zu Datentypen:

```{r q21}
quiz(
  question("Welchen Datentyp hat das Alter?",
    answer("Character / String"),
    answer("Numeric / Integer", correct = TRUE),
    answer("Logic / Boolean"), allow_retry = T
  ),
  question("Welchen Datentyp hat 'R ist cool'?",
    answer("Character / String", correct = TRUE),
    answer("Numeric / Integer"),
    answer("Logic / Boolean"), allow_retry = T
    ) , caption = ""
)

quiz(
  question("Was ergibt die Aussage 5 < 4?",
    answer("TRUE"),
    answer("FALSE", correct = TRUE), allow_retry = T
  ),
  question("Was ergibt die Aussage 3 = 2 | 4 > 3?",
    answer("TRUE", correct = TRUE),
    answer("FALSE"), allow_retry = T
  ) , caption = ""
)

quiz(
  question("Was ergibt die Aussage 6 < 7 & 7 > 6?",
    answer("TRUE", correct = TRUE),
    answer("FALSE"), allow_retry = T
  ),
  question("Was ergibt die Aussage 3 < 1 | 10 = 9 | 6 > 8",
    answer("TRUE"),
    answer("FALSE", correct = TRUE), allow_retry = T
  ), caption = ""
)
```

## Dplyr

Wähle nur die Spalten Geschlecht, Alter und Familie aus. Der Name des Datensatzes ist **indo**.

```{r q41, exercise=TRUE}

```

```{r q41-hint}
select(indo, ...)
```

```{r q41-solution}
select(indo, Geschlecht, Alter, Familie)
```

Gib nur die männlichen Probanden aus.

```{r q43, exercise=TRUE}

```

```{r q43-hint}
filter(indo, ...)
```

```{r q43-solution}
filter(indo, Geschlecht == 2)
```

Gib nur jene Probanden mit einer Sinnkrise von über 3.5 aus.

```{r q44, exercise=TRUE}

```

```{r q44-hint}
filter(indo, ...)
```

```{r q44-solution}
filter(indo, Sinnkrise > 3.5)
```

Gib nur jene Probanden, die älter als 25 und eine Selbstranszendenz von über 4 haben aus. 

```{r q45, exercise=TRUE}

```

```{r q45-hint}
filter(indo, ...)
```

```{r q45-solution}
filter(indo, Alter > 25 & Selbsttranszendenz > 4)
```

Ermittle das Durchschnittsalter der weiblichen Probanden und nenne das Ergebnis **Mittelwert**.

```{r q46, exercise=TRUE}

```

```{r q46-hint}
indo %>%
  filter(...) %>%
  summarise(...)
```

```{r q46-solution}
indo %>%
  filter(Geschlecht == 1) %>%
  summarise(Mittelwert = mean(Alter))
```

Ermittle das Durchschnittsalter beider Geschlechter in einem Befehl mit group_by und nenne das Ergebnis Mittelwert.

```{r q47, exercise=TRUE}

```

```{r q47-hint}
indo %>%
  group_by(...) %>%
  summarise(...)
```

```{r q47-solution}
indo %>% 
  group_by(Geschlecht) %>%
  summarise(Mittelwert = mean(Alter))
```

Berechne die mittlere Ausprägung der Hauptdimensionen Selbsttranszendenz, Selbstverwirklichung, Ordnung und Wir_Wohlgefuehl pro Person und füge eine neue Spalte mit dem Namen **Mittelwert** hinzu.

```{r q48, exercise=TRUE}

```

```{r q48-hint}
indo %>%
  mutate(...)
```

```{r q48-solution}
indo %>%
  mutate(Mittelwert = rowMeans(.[ , c(4, 7, 8, 9)]))
```

Gib die Spalten Alter, Sinnkrise und Sinnerfuellung von jenen Versuchspersonen aus, die weiblich sind und einen Selbsttranzendenz Wert von unter 3 haben. 

```{r q49, exercise=TRUE}

```

```{r q49-hint}
indo %>%
  filter(...) %>%
  select(...) %>%
```

```{r q49-solution}
indo %>%
  filter(Geschlecht == 1 & Selbsttranszendenz < 3) %>%
  select(Alter, Sinnkrise, Sinnerfuellung) 
``` 

Berechne den Mittelwert namens **Esoterik** von Selbsttranzendenz für beide Famileienstanede der männlichen Probanden.

```{r q410, exercise=TRUE}

```

```{r q410-hint}
indo %>%
  filter(...) %>%
  group_by(...) %>%
  summarise(...)
```

```{r q410-solution}
indo %>%
  filter(Geschlecht == 2) %>%
  group_by(Familie) %>%
  summarise(Esoterik = mean(Selbsttranszendenz))
```

Füge eine neue Spalte mit logischen Werten mit dem Namen Gluecklich, in dem du prüfst, ob die Ausprägung von Sinnverfuellung größer als die der Sinnkrise ist und ersetze TRUE durch Ja und FALSE durch Nein. Gebe als Ergebnis nur das Alter und die Spalte Gluecklich aus. 

```{r q411, exercise=TRUE}

```

```{r q411-hint}
indo %>%
  mutate(...) %>%
  mutate(replace(...), 
         replace(...)) %>%
  select(...)
```

```{r q411-solution}
indo %>%
  mutate(Gluecklich = Sinnerfuellung > Sinnkrise) %>%
  mutate(Gluecklich = replace(Gluecklich, Gluecklich == TRUE, "Ja"),
         Gluecklich = replace(Gluecklich, Gluecklich == FALSE, "Nein")) %>%
  select(Alter, Gluecklich) 
```


